
<!-- REFESH CLIENT MODEL ASSOCIATION -->

<sqml>
	
	<property name="TIMEOUT" value="0"/>
	
	<datasource name="silver" type="dbcp">
		<defaultAutoCommit>true</defaultAutoCommit>
		<defaultReadOnly>false</defaultReadOnly>
		<driverClassName>oracle.jdbc.driver.OracleDriver</driverClassName>
		<initialSize>1</initialSize>
		<maxActive>15</maxActive>
		<maxIdle>2</maxIdle>
		<poolPreparedStatements>true</poolPreparedStatements>
		<testOnBorrow>true</testOnBorrow>
		<url>jdbc:oracle:thin:@rebdom1:1521:silver</url>
		<username>dma_rbate2_app</username>
		<password>caste8</password>
		<validationQuery>SELECT 1 FROM DUAL</validationQuery>
	</datasource>
	
	<datasource name="slate" type="dbcp">
		<defaultAutoCommit>true</defaultAutoCommit>
		<defaultReadOnly>false</defaultReadOnly>
		<driverClassName>oracle.jdbc.driver.OracleDriver</driverClassName>
		<initialSize>1</initialSize>
		<maxActive>15</maxActive>
		<maxIdle>2</maxIdle>
		<poolPreparedStatements>true</poolPreparedStatements>
		<testOnBorrow>true</testOnBorrow>
		<url>jdbc:oracle:thin:@qadom2:1521:slate</url>
		<username>dma_rbate2_app</username>
		<password>dma_rbate2_app</password>
		<validationQuery>SELECT 1 FROM DUAL</validationQuery>
	</datasource>
	
	<datasource name="maple" type="dbcp">
		<defaultAutoCommit>true</defaultAutoCommit>
		<defaultReadOnly>false</defaultReadOnly>
		<driverClassName>oracle.jdbc.driver.OracleDriver</driverClassName>
		<initialSize>1</initialSize>
		<maxActive>15</maxActive>
		<maxIdle>2</maxIdle>
		<poolPreparedStatements>true</poolPreparedStatements>
		<testOnBorrow>true</testOnBorrow>
		<url>jdbc:oracle:thin:@devdom3:1521:maple</url>
		<username>dma_rbate2_app</username>
		<password>dma_rbate2_app</password>
		<validationQuery>SELECT 1 FROM DUAL</validationQuery>
	</datasource>
	
	<command type="run" datasource="silver">
		CREATE TABLE QA_MFG_RATE(
		  PICO_ID          VARCHAR(5) NOT NULL,
		  FRMLY_ID         VARCHAR(10) NOT NULL,
		  FRMLY_SRC_CD     CHAR(1) NOT NULL CHECK(FRMLY_SRC_CD IN ('S','H','Q')),
		  NDC11_ID         VARCHAR(11) NOT NULL,
		  EFF_DT           DATE NOT NULL,
		  TERM_DT          DATE NOT NULL,
		  RATE_QLFR_CD     CHAR(1) NOT NULL CHECK(RATE_QLFR_CD IN ('P','F')),
		  MAIL_RATE_T2_AMT DECIMAL(7,2) NOT NULL CHECK(MAIL_RATE_T2_AMT >= 0),
		  MAIL_RATE_T3_AMT DECIMAL(7,2) NOT NULL CHECK(MAIL_RATE_T3_AMT >= 0),
		  RTL_RATE_T2_AMT  DECIMAL(7,2) NOT NULL CHECK(RTL_RATE_T2_AMT >= 0),
		  RTL_RATE_T3_AMT  DECIMAL(7,2) NOT NULL CHECK(RTL_RATE_T3_AMT >= 0),
		  EXCL_MAIL_CD     CHAR(1) NOT NULL CHECK(EXCL_MAIL_CD IN ('Y','N')),
		  EXCL_THER_CD     CHAR(1) NOT NULL CHECK(EXCL_THER_CD IN ('Y','N')),
		  ADD_DT           DATE DEFAULT SYSDATE NOT NULL,
		  MOD_DT           DATE DEFAULT SYSDATE NOT NULL,
		  PRIMARY KEY(PICO_ID, FRMLY_ID, FRMLY_SRC_CD, NDC11_ID, EFF_DT)
		);
		CREATE TABLE QA_HISTORY_MFG_RATE(
		  PICO_ID          VARCHAR(5),
		  FRMLY_ID         VARCHAR(10),
		  FRMLY_SRC_CD     CHAR(1),
		  NDC11_ID         VARCHAR(11),
		  EFF_DT           DATE,
		  TERM_DT          DATE,
		  RATE_QLFR_CD     CHAR(1),
		  MAIL_RATE_T2_AMT DECIMAL(7,2),
		  MAIL_RATE_T3_AMT DECIMAL(7,2),
		  RTL_RATE_T2_AMT  DECIMAL(7,2),
		  RTL_RATE_T3_AMT  DECIMAL(7,2),
		  EXCL_MAIL_CD     CHAR(1),
		  EXCL_THER_CD     CHAR(1),
		  ADD_DT           DATE,
		  ARC_DT           DATE DEFAULT SYSDATE
		);
		CREATE TABLE QA_MFG_PMCY_EXCL(
		  PICO_ID     VARCHAR(5) NOT NULL,
		  PMCY_ID     VARCHAR(7) NOT NULL,
		  PGM_CD      CHAR(1) NOT NULL CHECK(PGM_CD IN ('C','M')),
		  EFF_DT      DATE NOT NULL,
		  TERM_DT     DATE NOT NULL,
		  ADD_DT      DATE DEFAULT SYSDATE NOT NULL,
		  MOD_DT      DATE DEFAULT SYSDATE NOT NULL,
		  PRIMARY KEY(PICO_ID, PMCY_ID, PGM_CD, EFF_DT)
		);
		CREATE TABLE QA_HISTORY_MFG_PMCY_EXCL(
		  PICO_ID     VARCHAR(5),
		  PMCY_ID     VARCHAR(7),
		  PGM_CD      CHAR(1),
		  EFF_DT      DATE,
		  TERM_DT     DATE,
		  ADD_DT      DATE,
		  ARC_DT      DATE DEFAULT SYSDATE
		);
		CREATE TABLE QA_MFG_ST_EXCL(
		  PICO_ID     VARCHAR(5) NOT NULL,
		  ST_CD       NUMBER(2) NOT NULL,
		  PGM_CD      CHAR(1) NOT NULL CHECK(PGM_CD IN ('C','M')),
		  EFF_DT      DATE NOT NULL,
		  TERM_DT     DATE NOT NULL,
		  ADD_DT      DATE DEFAULT SYSDATE NOT NULL,
		  MOD_DT      DATE DEFAULT SYSDATE NOT NULL,
		  PRIMARY KEY(PICO_ID, ST_CD, PGM_CD, EFF_DT)
		);
		CREATE TABLE QA_HISTORY_MFG_ST_EXCL(
		  PICO_ID     VARCHAR(5),
		  ST_CD       NUMBER(2),
		  PGM_CD      CHAR(1),
		  EFF_DT      DATE,
		  TERM_DT     DATE,
		  ADD_DT      DATE,
		  ARC_DT      DATE DEFAULT SYSDATE
		);
		CREATE TABLE QA_POS_FILE_XPRT (
		  PTFM_ID     VARCHAR(10) NOT NULL,
		  XPRT_TYP_ID VARCHAR(30) NOT NULL,
		  SEQ_NB      INTEGER NOT NULL,
		  LAST_RUN_DT DATE NOT NULL,
		  MOD_DT      DATE DEFAULT SYSDATE NOT NULL,
		  PRIMARY KEY (PTFM_ID, XPRT_TYP_ID)
		);
	</command>
	
	<!--
	<command type="copy" batch="500">
		<source type="sql" datasource="gdxprd"><![CDATA[
			SELECT * FROM VRAP.TDISCNT_EXT_CLAIM_GPO
		]]></source>
		<target
			type             = "table"
			datasource       = "silver"
			transaction      = "true"
			batch            = "500"
			reportInterval   = "500"
			queryTimeout     = "${TIMEOUT}"
			schema           = "DMA_RBATE2_APP"
			table            = "BCC_TDISCNT_EXT_CLAIM_GPO"
		/>
	</command>
	-->
			
</sqml>
